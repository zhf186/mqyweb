# æ¼«éª‘æ¸¸å®˜æ–¹ç½‘ç«™å¼€å‘é¡¹ç›®

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯åŸºäºæ¼«éª‘æ¸¸å“ç‰Œæ‰‹å†Œå’ŒSKILLè®¾è®¡æŒ‡å—çš„å®˜æ–¹ç½‘ç«™å¼€å‘å…¨æ¡ˆï¼Œé‡‡ç”¨ã€Œæœªæ¥ä¸»ä¹‰å¥¢åéª‘æ¸¸é£æ ¼ã€è®¾è®¡ç†å¿µï¼Œèåˆç§‘æŠ€æœªæ¥æ„Ÿã€è‡ªç„¶æœ‰æœºå’Œç²¾è‡´å¥¢åä¸‰å¤§å…ƒç´ ã€‚

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### é˜¿é‡Œäº‘ Ubuntu 24.04 éƒ¨ç½²

æœ¬é¡¹ç›®æä¾›å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ã€‚

**å¿«é€Ÿå¼€å§‹ï¼š**
```bash
# 1. é…ç½®æœåŠ¡å™¨ç¯å¢ƒ
bash deploy/setup-server.sh

# 2. éƒ¨ç½²é¡¹ç›®
bash deploy/deploy.sh

# 3. é…ç½® SSL
bash deploy/ssl-setup.sh
```

**è¯¦ç»†æ–‡æ¡£ï¼š**
- ğŸ“– [å®Œæ•´éƒ¨ç½²æ–‡æ¡£](DEPLOYMENT.md) - è¯¦ç»†çš„åˆ†æ­¥éƒ¨ç½²æŒ‡å—
- âš¡ [å¿«é€Ÿéƒ¨ç½²æŒ‡å—](deploy/QUICK-START.md) - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- ğŸ“‹ [éƒ¨ç½²æ£€æŸ¥æ¸…å•](deploy/CHECKLIST.md) - ç¡®ä¿éƒ¨ç½²æ— é—æ¼
- ğŸ”§ [è„šæœ¬ä½¿ç”¨è¯´æ˜](deploy/README.md) - æ‰€æœ‰è„šæœ¬çš„è¯¦ç»†è¯´æ˜
- ğŸ“ [éƒ¨ç½²æ–¹æ¡ˆæ€»ç»“](deploy/éƒ¨ç½²æ–¹æ¡ˆæ€»ç»“.md) - æ¶æ„å’Œé…ç½®è¯´æ˜

**éƒ¨ç½²ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œ10-15åˆ†é’Ÿå®Œæˆéƒ¨ç½²
- âœ… Nginx åå‘ä»£ç† + SSL/HTTPS
- âœ… PM2 è¿›ç¨‹ç®¡ç†ï¼ˆå‰ç«¯ï¼‰+ systemdï¼ˆåç«¯ï¼‰
- âœ… è‡ªåŠ¨é‡å¯å’Œå¼€æœºè‡ªå¯
- âœ… æ—¥å¿—ç®¡ç†å’Œç›‘æ§

---

## ğŸ› ï¸ ç¯å¢ƒå®‰è£…æŒ‡å—

### Windows ç³»ç»Ÿ

#### 1. å®‰è£… Node.js (å‰ç«¯å¿…éœ€)

**æ–¹å¼ä¸€ï¼šå®˜ç½‘ä¸‹è½½ï¼ˆæ¨èï¼‰**
1. è®¿é—® https://nodejs.org/
2. ä¸‹è½½ LTS ç‰ˆæœ¬ï¼ˆæ¨è v20.xï¼‰
3. è¿è¡Œå®‰è£…ç¨‹åºï¼Œä¸€è·¯ Next å³å¯
4. å®‰è£…å®Œæˆåæ‰“å¼€æ–°çš„å‘½ä»¤è¡Œçª—å£ï¼ŒéªŒè¯å®‰è£…ï¼š
   ```cmd
   node --version
   npm --version
   ```

**æ–¹å¼äºŒï¼šä½¿ç”¨ wingetï¼ˆWindows 11ï¼‰**
```powershell
winget install OpenJS.NodeJS.LTS
```

**æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Chocolatey**
```powershell
choco install nodejs-lts
```

#### 2. å®‰è£… Java 17 (åç«¯å¿…éœ€)

**æ–¹å¼ä¸€ï¼šå®˜ç½‘ä¸‹è½½ï¼ˆæ¨èï¼‰**
1. è®¿é—® https://adoptium.net/
2. ä¸‹è½½ Temurin 17 (LTS)
3. è¿è¡Œå®‰è£…ç¨‹åº
4. éªŒè¯å®‰è£…ï¼š
   ```cmd
   java -version
   ```

**æ–¹å¼äºŒï¼šä½¿ç”¨ winget**
```powershell
winget install EclipseAdoptium.Temurin.17.JDK
```

**æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Chocolatey**
```powershell
choco install temurin17
```

#### 3. Mavenï¼ˆå¯é€‰ï¼Œé¡¹ç›®å·²åŒ…å« Maven Wrapperï¼‰

é¡¹ç›®å·²åŒ…å« Maven Wrapper (`mvnw.cmd`)ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½ Mavenï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ã€‚

å¦‚éœ€å…¨å±€å®‰è£…ï¼š
```powershell
winget install Apache.Maven
# æˆ–
choco install maven
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ç¯å¢ƒè¦æ±‚

- **Node.js 18+**ï¼šå‰ç«¯å¼€å‘
- **Java 17+**ï¼šåç«¯å¼€å‘
- Maven 3.8+ï¼ˆå¯é€‰ï¼Œé¡¹ç›®åŒ…å« Maven Wrapperï¼‰

### ä¸€é”®å¯åŠ¨ï¼ˆWindowsï¼‰

```bash
# åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡
start-all.bat
```

æˆ–è€…åˆ†åˆ«å¯åŠ¨ï¼š

```bash
# å¯åŠ¨åç«¯æœåŠ¡
start-backend.bat

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
start-frontend.bat
```

### æ‰‹åŠ¨å¯åŠ¨

#### å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend/manqiyou-app

# ä½¿ç”¨ Maven Wrapperï¼ˆæ¨èï¼Œæ— éœ€å®‰è£… Mavenï¼‰
mvnw.cmd spring-boot:run

# æˆ–ä½¿ç”¨å…¨å±€ Maven
mvn spring-boot:run
```

åç«¯æœåŠ¡å°†åœ¨ http://localhost:8080 å¯åŠ¨

#### å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨

### ä»…å¯åŠ¨å‰ç«¯ï¼ˆæ— åç«¯ï¼‰

å‰ç«¯å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä½¿ç”¨é™æ€æ•°æ®å±•ç¤ºé¡µé¢ï¼š

```bash
cd frontend
npm install
npm run dev
```

è®¿é—® http://localhost:3000 å³å¯çœ‹åˆ°ç½‘ç«™é¦–é¡µã€‚

---

## ğŸ“ è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ç½‘ç«™ | http://localhost:3000 | Next.js å¼€å‘æœåŠ¡å™¨ |
| åç«¯ API | http://localhost:8080 | Spring Boot æœåŠ¡ |
| H2 æ§åˆ¶å° | http://localhost:8080/h2-console | æ•°æ®åº“ç®¡ç†ç•Œé¢ |

### H2 æ•°æ®åº“è¿æ¥ä¿¡æ¯
- JDBC URL: `jdbc:h2:mem:manqiyou`
- ç”¨æˆ·å: `sa`
- å¯†ç : (ç©º)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ frontend/                 # Next.js å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/          # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/      # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ home/        # é¦–é¡µç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ animation/   # åŠ¨ç”»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ lib/             # å·¥å…·åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ i18n/        # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ brand_assets/    # å“ç‰Œç´ æï¼ˆå·²å¤åˆ¶ï¼‰
â”‚
â”œâ”€â”€ backend/                  # Java åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ manqiyou-app/        # å•ä½“åº”ç”¨ï¼ˆå¼€å‘ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ mvnw.cmd         # Maven Wrapper (Windows)
â”‚   â”‚   â””â”€â”€ mvnw             # Maven Wrapper (Unix)
â”‚   â”œâ”€â”€ manqiyou-gateway/    # API ç½‘å…³
â”‚   â”œâ”€â”€ manqiyou-user/       # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ manqiyou-route/      # çº¿è·¯æœåŠ¡
â”‚   â”œâ”€â”€ manqiyou-order/      # è®¢å•æœåŠ¡
â”‚   â”œâ”€â”€ manqiyou-member/     # ä¼šå‘˜æœåŠ¡
â”‚   â”œâ”€â”€ manqiyou-cms/        # å†…å®¹ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ manqiyou-common/     # å…¬å…±æ¨¡å—
â”‚
â”œâ”€â”€ brand_assets/            # å“ç‰Œç´ ææºæ–‡ä»¶
â”œâ”€â”€ start-all.bat            # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start-backend.bat        # åç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start-frontend.bat       # å‰ç«¯å¯åŠ¨è„šæœ¬
â””â”€â”€ .kiro/specs/             # é¡¹ç›®è§„æ ¼æ–‡æ¡£
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS
- **ç»„ä»¶åº“**: shadcn/ui
- **åŠ¨ç”»**: Framer Motion
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®è¯·æ±‚**: React Query
- **å›½é™…åŒ–**: ä¸­è‹±åŒè¯­æ”¯æŒ

### åç«¯
- **æ¡†æ¶**: Spring Boot 3.2
- **è¯­è¨€**: Java 17
- **ORM**: MyBatis-Plus
- **æ•°æ®åº“**: H2 (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
- **ç¼“å­˜**: Redis

---

## ğŸ“¡ API æ¥å£

### å…¬å¼€æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/health | å¥åº·æ£€æŸ¥ |
| GET | /api/routes | è·å–çº¿è·¯åˆ—è¡¨ |
| GET | /api/routes/featured | è·å–çƒ­é—¨çº¿è·¯ |
| GET | /api/routes/{id} | è·å–çº¿è·¯è¯¦æƒ… |
| GET | /api/categories | è·å–åˆ†ç±»åˆ—è¡¨ |
| POST | /api/auth/send-code | å‘é€éªŒè¯ç  |
| POST | /api/auth/login | æ‰‹æœºéªŒè¯ç ç™»å½• |

### å¼€å‘æ¨¡å¼è¯´æ˜

- **éªŒè¯ç ç™»å½•**ï¼šå¯ä½¿ç”¨ä¸‡èƒ½éªŒè¯ç  `123456`
- **æ•°æ®åº“**ï¼šä½¿ç”¨ H2 å†…å­˜æ•°æ®åº“ï¼Œé‡å¯åæ•°æ®é‡ç½®
- **ç¤ºä¾‹æ•°æ®**ï¼šå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ç¤ºä¾‹çº¿è·¯æ•°æ®

---

## ğŸ¨ å“ç‰Œè‰²å½©

| é¢œè‰² | è‰²å€¼ | ç”¨é€” |
|------|------|------|
| æ·±æ—ç»¿ | #0F4C3A | ä¸»è‰²è°ƒï¼Œä½“ç°è‡ªç„¶ä¸ç¯ä¿ |
| ç§‘æŠ€è“ | #2A5FAD | è¾…åŠ©è‰²ï¼Œä½“ç°ç§‘æŠ€æ„Ÿ |
| å¥¢åé‡‘ | #D4AF37 | å¼ºè°ƒè‰²ï¼Œä½“ç°é«˜ç«¯å“è´¨ |

---

## â“ å¸¸è§é—®é¢˜

### Q: å¯åŠ¨åç«¯æ—¶æç¤º "mvn ä¸æ˜¯å†…éƒ¨å‘½ä»¤"
A: ä½¿ç”¨é¡¹ç›®è‡ªå¸¦çš„ Maven Wrapperï¼š
```cmd
cd backend/manqiyou-app
mvnw.cmd spring-boot:run
```

### Q: å‰ç«¯å¯åŠ¨æ—¶æç¤º "node ä¸æ˜¯å†…éƒ¨å‘½ä»¤"
A: éœ€è¦å…ˆå®‰è£… Node.jsï¼Œå‚è€ƒä¸Šæ–¹å®‰è£…æŒ‡å—ã€‚

### Q: å›¾ç‰‡æ— æ³•æ˜¾ç¤º
A: ç¡®ä¿ `frontend/public/brand_assets/` ç›®å½•å­˜åœ¨ä¸”åŒ…å«å›¾ç‰‡æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿è¡Œï¼š
```cmd
setup-assets.bat
```

### Q: ç«¯å£è¢«å ç”¨
A: ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£ï¼š
- å‰ç«¯ï¼š`frontend/package.json` ä¸­ä¿®æ”¹ dev è„šæœ¬æ·»åŠ  `-p 3001`
- åç«¯ï¼š`backend/manqiyou-app/src/main/resources/application.yml` ä¸­ä¿®æ”¹ `server.port`
