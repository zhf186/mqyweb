# æ¼«éª‘æ¸¸é¡¹ç›®æ›´æ–°è®°å½•

**æ›´æ–°æ—¶é—´**: 2026-01-29 17:00  
**æ›´æ–°äººå‘˜**: Kiro AI Assistant  
**æœåŠ¡å™¨**: 47.97.21.33 (www.manqiyou.cn)

---

## ğŸ“ æœ¬æ¬¡æ›´æ–°å†…å®¹

### 1. Routes é¡µé¢ä¼˜åŒ–

#### ç§»é™¤ Emoji å›¾æ ‡
- âœ… ç§»é™¤äº†ä¸‰ä¸ªä¿¡æ¯å¡ç‰‡ä¸Šçš„ emoji å›¾æ ‡ï¼ˆğŸ—ºï¸ã€ğŸš´ã€ğŸ¯ï¼‰
- âœ… æ”¹ä¸ºä½¿ç”¨ç²¾ç¾çš„å›¾ç‰‡èƒŒæ™¯

#### æ·»åŠ ç²¾ç¾å›¾ç‰‡å¡ç‰‡
æ›¿æ¢äº†ä¸‰ä¸ªç‰¹æ€§å¡ç‰‡çš„å±•ç¤ºæ–¹å¼ï¼š

1. **èå…¥å½“åœ°æ–‡åŒ–**
   - å›¾ç‰‡ï¼š`/brand_assets/routes/page12_img3.jpeg`
   - æ•ˆæœï¼šå¸¦æœ‰æ¸å˜é®ç½©çš„éª‘è¡Œé£æ™¯å›¾

2. **å¾·å›½è¡€ç»Ÿ E-BIKE**
   - å›¾ç‰‡ï¼š`/brand_assets/ebike/page10_img1.jpeg`
   - æ•ˆæœï¼šå±•ç¤ºç”µåŠ¨è‡ªè¡Œè½¦çš„ä¸“ä¸šå›¾ç‰‡

3. **ä¸€ç«™å¼ä½“éªŒ**
   - å›¾ç‰‡ï¼š`/brand_assets/community/page14_img1.jpeg`
   - æ•ˆæœï¼šç¤¾åŒºæ´»åŠ¨çš„æ¸©é¦¨åœºæ™¯

#### äº¤äº’æ•ˆæœ
- âœ… é¼ æ ‡æ‚¬åœæ—¶å›¾ç‰‡æ”¾å¤§ï¼ˆscale-110ï¼‰
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»ï¼ˆduration-700ï¼‰
- âœ… æ¸å˜é®ç½©æ•ˆæœï¼ˆfrom-black via-black/60 to-black/20ï¼‰

### 2. ä¿®å¤çº¿è·¯åŠ è½½é—®é¢˜

#### é—®é¢˜åŸå› 
- åç«¯æœåŠ¡æœªå¯åŠ¨ï¼Œå¯¼è‡´ API è°ƒç”¨å¤±è´¥
- å‰ç«¯æ˜¾ç¤º"åŠ è½½å¤±è´¥"é”™è¯¯ä¿¡æ¯

#### è§£å†³æ–¹æ¡ˆ
- âœ… å¯åŠ¨åç«¯æœåŠ¡ï¼ˆSpring Boot on port 8080ï¼‰
- âœ… å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆNext.js on port 3000ï¼‰
- âœ… éªŒè¯ API æ­£å¸¸è¿”å›æ•°æ®ï¼ˆ6 æ¡çº¿è·¯æ•°æ®ï¼‰

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### 1. æœ¬åœ°æäº¤
```bash
git add .
git commit -m "ä¼˜åŒ–routesé¡µé¢ï¼šç§»é™¤emojiå›¾æ ‡ï¼Œæ·»åŠ ç²¾ç¾å›¾ç‰‡å¡ç‰‡ï¼Œä¿®å¤çº¿è·¯åŠ è½½é—®é¢˜"
git push origin main
```

**æäº¤å“ˆå¸Œ**: ad3122a

### 2. æœåŠ¡å™¨æ›´æ–°
```bash
# è¿æ¥æœåŠ¡å™¨
ssh root@47.97.21.33

# æ‹‰å–æœ€æ–°ä»£ç 
cd /opt/mqyweb
git pull origin main

# é‡æ–°æ„å»ºå‰ç«¯é•œåƒ
docker-compose -f docker-compose.prod.yml build frontend

# é‡å¯æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.prod.yml down
docker-compose -f docker-compose.prod.yml up -d
```

### 3. éªŒè¯éƒ¨ç½²
```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose -f docker-compose.prod.yml ps

# æµ‹è¯•æœ¬åœ°è®¿é—®
curl -I http://localhost:3001

# æµ‹è¯•å¤–éƒ¨è®¿é—®
curl -I http://www.manqiyou.cn
```

---

## âœ… éªŒè¯ç»“æœ

### å®¹å™¨çŠ¶æ€
```
Name                     Command                State                    Ports
-----------------------------------------------------------------------------------------------------
manqiyou-backend    java -jar ...                Up (healthy)        127.0.0.1:8081->8080/tcp
manqiyou-frontend   docker-entrypoint.sh ...     Up (healthy)        127.0.0.1:3001->3000/tcp
manqiyou-postgres   docker-entrypoint.sh ...     Up (healthy)        127.0.0.1:5432->5432/tcp
manqiyou-redis      docker-entrypoint.sh ...     Up (healthy)        127.0.0.1:6379->6379/tcp
```

### HTTP è®¿é—®æµ‹è¯•
- âœ… æœ¬åœ°è®¿é—®ï¼šhttp://localhost:3001 - 200 OK
- âœ… å¤–éƒ¨è®¿é—®ï¼šhttp://www.manqiyou.cn - 200 OK
- âœ… Routes é¡µé¢ï¼šhttp://www.manqiyou.cn/routes - æ­£å¸¸æ˜¾ç¤º

### åŠŸèƒ½éªŒè¯
- âœ… ä¸‰ä¸ªä¿¡æ¯å¡ç‰‡æ˜¾ç¤ºç²¾ç¾å›¾ç‰‡
- âœ… å›¾ç‰‡æ‚¬åœæ•ˆæœæ­£å¸¸
- âœ… éª‘è¡Œçº¿è·¯åˆ—è¡¨æ­£å¸¸åŠ è½½
- âœ… ç­›é€‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… åˆ†é¡µåŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ“Š æ›´æ–°ç»Ÿè®¡

### æ–‡ä»¶å˜æ›´
- **ä¿®æ”¹æ–‡ä»¶**: 17 ä¸ª
- **æ–°å¢æ–‡ä»¶**: 6 ä¸ª
- **ä»£ç è¡Œæ•°**: +1794 / -48

### ä¸»è¦å˜æ›´æ–‡ä»¶
1. `frontend/src/app/routes/page.tsx` - Routes é¡µé¢ä¼˜åŒ–
2. `deploy/server-deploy.sh` - æœåŠ¡å™¨éƒ¨ç½²è„šæœ¬
3. `deploy/ssl-dns-setup-guide.md` - SSL é…ç½®æŒ‡å—
4. `å½“å‰éƒ¨ç½²çŠ¶æ€.md` - éƒ¨ç½²çŠ¶æ€æ–‡æ¡£
5. `ä¸€é”®éƒ¨ç½²æŒ‡å—.md` - éƒ¨ç½²æŒ‡å—æ–‡æ¡£

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### å¾…å®Œæˆå·¥ä½œ
1. â³ SSL è¯ä¹¦é…ç½®ï¼ˆä½¿ç”¨ DNS éªŒè¯ï¼‰
2. â³ HTTPS è®¿é—®å¯ç”¨
3. â³ æ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§

### ä¼˜åŒ–å»ºè®®
1. è€ƒè™‘æ·»åŠ å›¾ç‰‡æ‡’åŠ è½½
2. ä¼˜åŒ–å›¾ç‰‡å°ºå¯¸å’Œæ ¼å¼ï¼ˆWebPï¼‰
3. æ·»åŠ  CDN åŠ é€Ÿ
4. é…ç½®ç¼“å­˜ç­–ç•¥

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æŸ¥çœ‹æ—¥å¿—
```bash
# Docker æ—¥å¿—
cd /opt/mqyweb
docker-compose -f docker-compose.prod.yml logs -f

# Nginx æ—¥å¿—
sudo tail -f /var/log/nginx/manqiyou_access.log
sudo tail -f /var/log/nginx/manqiyou_error.log
```

### é‡å¯æœåŠ¡
```bash
cd /opt/mqyweb
docker-compose -f docker-compose.prod.yml restart
```

### å›æ»šç‰ˆæœ¬
```bash
cd /opt/mqyweb
git log --oneline  # æŸ¥çœ‹æäº¤å†å²
git reset --hard <commit-hash>  # å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
docker-compose -f docker-compose.prod.yml up -d --build
```

---

## ğŸ‰ æ›´æ–°æˆåŠŸï¼

**è®¿é—®åœ°å€**: http://www.manqiyou.cn/routes

**æ›´æ–°æ•ˆæœ**:
- âœ… é¡µé¢è§†è§‰æ•ˆæœå¤§å¹…æå‡
- âœ… ç”¨æˆ·ä½“éªŒæ›´åŠ æµç•…
- âœ… åŠŸèƒ½å®Œå…¨æ­£å¸¸
- âœ… æ€§èƒ½ç¨³å®šå¯é 

---

**å¤‡æ³¨**: æœ¬æ¬¡æ›´æ–°å·²å®Œæˆæµ‹è¯•å’ŒéªŒè¯ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
